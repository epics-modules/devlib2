<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>devLib2: VME CSR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">devLib2
   &#160;<span id="projectnumber">2.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">VME CSR</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID info for a VME64(x) device This structure is used to hold identifying information for a VME64 compatible device. When used for searching each field can hold a specific value of the 'VMECSRANY' wildcard.  <a href="struct_v_m_e_c_s_r_i_d.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7ae4c93dd483a4cfacff0ba362b6e449"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga7ae4c93dd483a4cfacff0ba362b6e449">DEVLIBVME_MAJOR</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga7ae4c93dd483a4cfacff0ba362b6e449"><td class="mdescLeft">&#160;</td><td class="mdescRight">API major version.  <a href="#ga7ae4c93dd483a4cfacff0ba362b6e449">More...</a><br /></td></tr>
<tr class="separator:ga7ae4c93dd483a4cfacff0ba362b6e449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6615e6d8a31bffa76397c7ca8b7cad36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga6615e6d8a31bffa76397c7ca8b7cad36">DEVLIBVME_MINOR</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga6615e6d8a31bffa76397c7ca8b7cad36"><td class="mdescLeft">&#160;</td><td class="mdescRight">API minor version.  <a href="#ga6615e6d8a31bffa76397c7ca8b7cad36">More...</a><br /></td></tr>
<tr class="separator:ga6615e6d8a31bffa76397c7ca8b7cad36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac67f33a3505af830d3a17f58fa7643b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gac67f33a3505af830d3a17f58fa7643b1">VMECSR_END</a>&#160;&#160;&#160;{0,0,0}</td></tr>
<tr class="memdesc:gac67f33a3505af830d3a17f58fa7643b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be the last entry in a device list.  <a href="#gac67f33a3505af830d3a17f58fa7643b1">More...</a><br /></td></tr>
<tr class="separator:gac67f33a3505af830d3a17f58fa7643b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebe2980f4642d59391e1248510821662"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gaebe2980f4642d59391e1248510821662">VMECSRANY</a>&#160;&#160;&#160;0xFfffFfff</td></tr>
<tr class="memdesc:gaebe2980f4642d59391e1248510821662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match any value. May be used in any field of <a class="el" href="struct_v_m_e_c_s_r_i_d.html" title="ID info for a VME64(x) device This structure is used to hold identifying information for a VME64 comp...">VMECSRID</a>.  <a href="#gaebe2980f4642d59391e1248510821662">More...</a><br /></td></tr>
<tr class="separator:gaebe2980f4642d59391e1248510821662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5998fe7eba1a0920c96c889ff82b22c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gab5998fe7eba1a0920c96c889ff82b22c">VMECSRSLOTMAX</a>&#160;&#160;&#160;((1&lt;&lt;5)-1)</td></tr>
<tr class="memdesc:gab5998fe7eba1a0920c96c889ff82b22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The highest slot number.  <a href="#gab5998fe7eba1a0920c96c889ff82b22c">More...</a><br /></td></tr>
<tr class="separator:gab5998fe7eba1a0920c96c889ff82b22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefef149324c2e7787a768a840c309014"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gaefef149324c2e7787a768a840c309014">CSRSlotBase</a>(slot)&#160;&#160;&#160;( (slot)&lt;&lt;19 )</td></tr>
<tr class="memdesc:gaefef149324c2e7787a768a840c309014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derives the CSR space base address for a slot.  <a href="#gaefef149324c2e7787a768a840c309014">More...</a><br /></td></tr>
<tr class="separator:gaefef149324c2e7787a768a840c309014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga670475d761fb2b6f187d9c18d17f0995"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga670475d761fb2b6f187d9c18d17f0995">CSRADER</a>(addr,  mod)&#160;&#160;&#160;( ((addr)&amp;0xFfffFf00) | ( ((mod)&amp;0x3f)&lt;&lt;2 ) )</td></tr>
<tr class="memdesc:ga670475d761fb2b6f187d9c18d17f0995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes values for the VME64x address decode registers (ADER).  <a href="#ga670475d761fb2b6f187d9c18d17f0995">More...</a><br /></td></tr>
<tr class="separator:ga670475d761fb2b6f187d9c18d17f0995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d13a87020a98e4410b3658d4bfc2c61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr)&#160;&#160;&#160;<a class="el" href="group__mmio.html#ga6c439c03ce1627a9b7347732c9fa1c89">ioread8</a>(addr)</td></tr>
<tr class="separator:ga9d13a87020a98e4410b3658d4bfc2c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf70bad25a02f88652d7b35926f972c3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gaf70bad25a02f88652d7b35926f972c3e">CSRRead16</a>(addr)&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+4) )</td></tr>
<tr class="separator:gaf70bad25a02f88652d7b35926f972c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45b897438c478673f59fc50aafb55d10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga45b897438c478673f59fc50aafb55d10">CSRRead24</a>(addr)&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#gaf70bad25a02f88652d7b35926f972c3e">CSRRead16</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+8) )</td></tr>
<tr class="separator:ga45b897438c478673f59fc50aafb55d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37c42762f1d8c3fbb93980c35c549fca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga37c42762f1d8c3fbb93980c35c549fca">CSRRead32</a>(addr)&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#ga45b897438c478673f59fc50aafb55d10">CSRRead24</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+12) )</td></tr>
<tr class="separator:ga37c42762f1d8c3fbb93980c35c549fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1378a006ef6227b68a2a5f8230bf324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gaa1378a006ef6227b68a2a5f8230bf324">CSRWrite8</a>(addr,  val)&#160;&#160;&#160;<a class="el" href="epics_m_m_i_o_def_8h.html#a03b397a92039a6a01906ae23a462c4e6">iowrite8</a>(addr, val)</td></tr>
<tr class="separator:gaa1378a006ef6227b68a2a5f8230bf324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69a3c83e4b7ac18fea75813e6fffe42d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga69a3c83e4b7ac18fea75813e6fffe42d">CSRWrite16</a>(addr,  val)&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#gaa1378a006ef6227b68a2a5f8230bf324">CSRWrite8</a>(addr,(val&amp;0xff00)&gt;&gt;8); CSRWrite8(addr+4,val&amp;0xff); }while(0)</td></tr>
<tr class="separator:ga69a3c83e4b7ac18fea75813e6fffe42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacccc26fbc8b0eea78622c06f9ee9a86f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gacccc26fbc8b0eea78622c06f9ee9a86f">CSRWrite24</a>(addr,  val)&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#ga69a3c83e4b7ac18fea75813e6fffe42d">CSRWrite16</a>(addr,(val&amp;0xffff00)&gt;&gt;8); CSRWrite8(addr+8,val&amp;0xff); }while(0)</td></tr>
<tr class="separator:gacccc26fbc8b0eea78622c06f9ee9a86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36095ae9abf94f738bce35ea23a26ea8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga36095ae9abf94f738bce35ea23a26ea8">CSRWrite32</a>(addr,  val)&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#gacccc26fbc8b0eea78622c06f9ee9a86f">CSRWrite24</a>(addr,(val&amp;0xffffff00)&gt;&gt;8); CSRWrite8(addr+12,val&amp;0xff); }while(0)</td></tr>
<tr class="separator:ga36095ae9abf94f738bce35ea23a26ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf7b6ac682181c5e5d5aae3c5e4b69a75"><td class="memItemLeft" align="right" valign="top">epicsShareFunc volatile unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#gaf7b6ac682181c5e5d5aae3c5e4b69a75">devCSRProbeSlot</a> (int slot)</td></tr>
<tr class="memdesc:gaf7b6ac682181c5e5d5aae3c5e4b69a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the CSR base address for a slot.  <a href="#gaf7b6ac682181c5e5d5aae3c5e4b69a75">More...</a><br /></td></tr>
<tr class="separator:gaf7b6ac682181c5e5d5aae3c5e4b69a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9316a3d969fc1eb17312a91e3e169f05"><td class="memItemLeft" align="right" valign="top">epicsShareFunc volatile unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga9316a3d969fc1eb17312a91e3e169f05">devCSRTestSlot</a> (const struct <a class="el" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a> *devs, int slot, struct <a class="el" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a> *info)</td></tr>
<tr class="memdesc:ga9316a3d969fc1eb17312a91e3e169f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probe a VME slot then check its ID.  <a href="#ga9316a3d969fc1eb17312a91e3e169f05">More...</a><br /></td></tr>
<tr class="separator:ga9316a3d969fc1eb17312a91e3e169f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cd2e1a47aecb1e1f5eeb78c811c33bb"><td class="memItemLeft" align="right" valign="top">epicsShareExtern void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga1cd2e1a47aecb1e1f5eeb78c811c33bb">vmecsrprint</a> (int N, int verb)</td></tr>
<tr class="memdesc:ga1cd2e1a47aecb1e1f5eeb78c811c33bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode contents of CSR/CR and print to screen.  <a href="#ga1cd2e1a47aecb1e1f5eeb78c811c33bb">More...</a><br /></td></tr>
<tr class="separator:ga1cd2e1a47aecb1e1f5eeb78c811c33bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86fbb50784de9243414050ebe66780c6"><td class="memItemLeft" align="right" valign="top">epicsShareExtern void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga86fbb50784de9243414050ebe66780c6">vmecsrdump</a> (int verb)</td></tr>
<tr class="memdesc:ga86fbb50784de9243414050ebe66780c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode contents of CSR/CR for all cards and print to screen.  <a href="#ga86fbb50784de9243414050ebe66780c6">More...</a><br /></td></tr>
<tr class="separator:ga86fbb50784de9243414050ebe66780c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99703c846bd1e79b76785c03220047a8"><td class="memItemLeft" align="right" valign="top">INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vmecsr.html#ga99703c846bd1e79b76785c03220047a8">CSRSetBase</a> (volatile void *base, epicsUInt8 N, epicsUInt32 addr, epicsUInt8 amod)</td></tr>
<tr class="memdesc:ga99703c846bd1e79b76785c03220047a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set base address for VME64x function N.  <a href="#ga99703c846bd1e79b76785c03220047a8">More...</a><br /></td></tr>
<tr class="separator:ga99703c846bd1e79b76785c03220047a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Extensions to EPICS devLib to deal with the CSR address space defined by the VME64 standard and extended by the VME64x standard. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga670475d761fb2b6f187d9c18d17f0995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga670475d761fb2b6f187d9c18d17f0995">&#9670;&nbsp;</a></span>CSRADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRADER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mod&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;( ((addr)&amp;0xFfffFf00) | ( ((mod)&amp;0x3f)&lt;&lt;2 ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes values for the VME64x address decode registers (ADER). </p>
<p>The ADER register encodes the address modifier and base address on one address range. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00137">137</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gaf70bad25a02f88652d7b35926f972c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf70bad25a02f88652d7b35926f972c3e">&#9670;&nbsp;</a></span>CSRRead16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRRead16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+4) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00144">144</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga45b897438c478673f59fc50aafb55d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45b897438c478673f59fc50aafb55d10">&#9670;&nbsp;</a></span>CSRRead24</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRRead24</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#gaf70bad25a02f88652d7b35926f972c3e">CSRRead16</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+8) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00146">146</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga37c42762f1d8c3fbb93980c35c549fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37c42762f1d8c3fbb93980c35c549fca">&#9670;&nbsp;</a></span>CSRRead32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRRead32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;( <a class="el" href="group__vmecsr.html#ga45b897438c478673f59fc50aafb55d10">CSRRead24</a>(addr)&lt;&lt;8 | <a class="el" href="group__vmecsr.html#ga9d13a87020a98e4410b3658d4bfc2c61">CSRRead8</a>(addr+12) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00148">148</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga9d13a87020a98e4410b3658d4bfc2c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d13a87020a98e4410b3658d4bfc2c61">&#9670;&nbsp;</a></span>CSRRead8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRRead8</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__mmio.html#ga6c439c03ce1627a9b7347732c9fa1c89">ioread8</a>(addr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00142">142</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gaefef149324c2e7787a768a840c309014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaefef149324c2e7787a768a840c309014">&#9670;&nbsp;</a></span>CSRSlotBase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRSlotBase</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot</td><td>)</td>
          <td>&#160;&#160;&#160;( (slot)&lt;&lt;19 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derives the CSR space base address for a slot. </p>
<p>The top 5 bits of the 24 bit CSR address are the slot number.</p>
<p>This macro gives the VME CSR base address for a slot. Give this address to <a class="el" href="dev_lib_v_m_e_8h.html#a4f48f4f4a0d16b65d23ea636f5adc328">devBusToLocalAddr()</a> with type atVMECSR </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00130">130</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga69a3c83e4b7ac18fea75813e6fffe42d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69a3c83e4b7ac18fea75813e6fffe42d">&#9670;&nbsp;</a></span>CSRWrite16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRWrite16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#gaa1378a006ef6227b68a2a5f8230bf324">CSRWrite8</a>(addr,(val&amp;0xff00)&gt;&gt;8); CSRWrite8(addr+4,val&amp;0xff); }while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00152">152</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gacccc26fbc8b0eea78622c06f9ee9a86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacccc26fbc8b0eea78622c06f9ee9a86f">&#9670;&nbsp;</a></span>CSRWrite24</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRWrite24</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#ga69a3c83e4b7ac18fea75813e6fffe42d">CSRWrite16</a>(addr,(val&amp;0xffff00)&gt;&gt;8); CSRWrite8(addr+8,val&amp;0xff); }while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00155">155</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga36095ae9abf94f738bce35ea23a26ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36095ae9abf94f738bce35ea23a26ea8">&#9670;&nbsp;</a></span>CSRWrite32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRWrite32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do{ <a class="el" href="group__vmecsr.html#gacccc26fbc8b0eea78622c06f9ee9a86f">CSRWrite24</a>(addr,(val&amp;0xffffff00)&gt;&gt;8); CSRWrite8(addr+12,val&amp;0xff); }while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00158">158</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gaa1378a006ef6227b68a2a5f8230bf324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1378a006ef6227b68a2a5f8230bf324">&#9670;&nbsp;</a></span>CSRWrite8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSRWrite8</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="epics_m_m_i_o_def_8h.html#a03b397a92039a6a01906ae23a462c4e6">iowrite8</a>(addr, val)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00150">150</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga7ae4c93dd483a4cfacff0ba362b6e449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ae4c93dd483a4cfacff0ba362b6e449">&#9670;&nbsp;</a></span>DEVLIBVME_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVLIBVME_MAJOR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API major version. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00050">50</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="ga6615e6d8a31bffa76397c7ca8b7cad36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6615e6d8a31bffa76397c7ca8b7cad36">&#9670;&nbsp;</a></span>DEVLIBVME_MINOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVLIBVME_MINOR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API minor version. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00051">51</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gac67f33a3505af830d3a17f58fa7643b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac67f33a3505af830d3a17f58fa7643b1">&#9670;&nbsp;</a></span>VMECSR_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMECSR_END&#160;&#160;&#160;{0,0,0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Must be the last entry in a device list. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00063">63</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gaebe2980f4642d59391e1248510821662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebe2980f4642d59391e1248510821662">&#9670;&nbsp;</a></span>VMECSRANY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMECSRANY&#160;&#160;&#160;0xFfffFfff</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Match any value. May be used in any field of <a class="el" href="struct_v_m_e_c_s_r_i_d.html" title="ID info for a VME64(x) device This structure is used to hold identifying information for a VME64 comp...">VMECSRID</a>. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00066">66</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gab5998fe7eba1a0920c96c889ff82b22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5998fe7eba1a0920c96c889ff82b22c">&#9670;&nbsp;</a></span>VMECSRSLOTMAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMECSRSLOTMAX&#160;&#160;&#160;((1&lt;&lt;5)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The highest slot number. </p>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00069">69</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga99703c846bd1e79b76785c03220047a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99703c846bd1e79b76785c03220047a8">&#9670;&nbsp;</a></span>CSRSetBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INLINE void CSRSetBase </td>
          <td>(</td>
          <td class="paramtype">volatile void *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt8&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt32&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt8&#160;</td>
          <td class="paramname"><em>amod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set base address for VME64x function N. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The CSR base address of a slot </td></tr>
    <tr><td class="paramname">N</td><td>A ADER number (0-7) </td></tr>
    <tr><td class="paramname">addr</td><td>Base address to set for given ADER </td></tr>
    <tr><td class="paramname">amod</td><td>VME address modifier to use for the given ADER </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="devcsr_8h_source.html#l00335">335</a> of file <a class="el" href="devcsr_8h_source.html">devcsr.h</a>.</p>

</div>
</div>
<a id="gaf7b6ac682181c5e5d5aae3c5e4b69a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7b6ac682181c5e5d5aae3c5e4b69a75">&#9670;&nbsp;</a></span>devCSRProbeSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsShareFunc volatile unsigned char* devCSRProbeSlot </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the CSR base address for a slot. </p>
<p>Test a single slot for the presense of VME64 complient module. Succeeds if a card is present and provides the standard registers.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cards which do not provide the CR_ASCII_C and CR_ASCII_R registers with the correct values ('C' and 'R') will be ignored. This rejects cards which use the CSR address space for some other purpose and don't provide the standard registers.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slot</td><td>The VME slot number (0-31) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>On all failures </td></tr>
    <tr><td class="paramname">!NULL</td><td>A pointer to slot's CSR base address </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="devcsr_8c_source.html#l00018">18</a> of file <a class="el" href="devcsr_8c_source.html">devcsr.c</a>.</p>

</div>
</div>
<a id="ga9316a3d969fc1eb17312a91e3e169f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9316a3d969fc1eb17312a91e3e169f05">&#9670;&nbsp;</a></span>devCSRTestSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsShareFunc volatile unsigned char* devCSRTestSlot </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a> *&#160;</td>
          <td class="paramname"><em>devs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Probe a VME slot then check its ID. </p>
<p>Calls <a class="el" href="group__vmecsr.html#gaf7b6ac682181c5e5d5aae3c5e4b69a75" title="Get the CSR base address for a slot. ">devCSRProbeSlot()</a>. If a card is found the PCI ID fields are compared against the given <a class="el" href="struct_v_m_e_c_s_r_i_d.html" title="ID info for a VME64(x) device This structure is used to hold identifying information for a VME64 comp...">VMECSRID</a> list. The base address is returned if the card matches and NULL otherwise.</p>
<p>If info is non-NULL then the structure it points to will be filled with the ID information of the matching card.</p>
<p>An identifier list should be defined like: </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct_v_m_e_c_s_r_i_d.html">VMECSRID</a> vmedevices[] = {</div><div class="line">    {0x123456, 0x87654321, 0x15}</div><div class="line">   ,{0x123456, 0x87654321, 0x16}</div><div class="line">   ,{0x123456, 0x87655678, <a class="code" href="group__vmecsr.html#gaebe2980f4642d59391e1248510821662">VMECSRANY</a>}</div><div class="line">   ,{0x214365, <a class="code" href="group__vmecsr.html#gaebe2980f4642d59391e1248510821662">VMECSRANY</a>, <a class="code" href="group__vmecsr.html#gaebe2980f4642d59391e1248510821662">VMECSRANY</a>}</div><div class="line">   ,<a class="code" href="group__vmecsr.html#gac67f33a3505af830d3a17f58fa7643b1">VMECSR_END</a></div><div class="line">};</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devs</td><td>A list of PCI device IDs (wildcards optional). </td></tr>
    <tr><td class="paramname">slot</td><td>VME slot number (0-31) </td></tr>
    <tr><td class="paramname">info</td><td>If not NULL the exact ID of the matching device is copied here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>It no card is present, or the card does not match. </td></tr>
    <tr><td class="paramname">!NULL</td><td>If a card matching an entry in the device list is found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="devcsr_8c_source.html#l00083">83</a> of file <a class="el" href="devcsr_8c_source.html">devcsr.c</a>.</p>

</div>
</div>
<a id="ga86fbb50784de9243414050ebe66780c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86fbb50784de9243414050ebe66780c6">&#9670;&nbsp;</a></span>vmecsrdump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsShareExtern void vmecsrdump </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode contents of CSR/CR for all cards and print to screen. </p>
<p>Calls <a class="el" href="group__vmecsr.html#ga1cd2e1a47aecb1e1f5eeb78c811c33bb" title="Decode contents of CSR/CR and print to screen. ">vmecsrprint()</a> on all slots (0-21)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">verb</td><td>Level of detail (0-2) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="devcsr_8c_source.html#l00233">233</a> of file <a class="el" href="devcsr_8c_source.html">devcsr.c</a>.</p>

</div>
</div>
<a id="ga1cd2e1a47aecb1e1f5eeb78c811c33bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cd2e1a47aecb1e1f5eeb78c811c33bb">&#9670;&nbsp;</a></span>vmecsrprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsShareExtern void vmecsrprint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode contents of CSR/CR and print to screen. </p>
<ul>
<li>v=0 - basic identification info (vendor/board id) </li>
<li>v=1 - config/capability info </li>
<li>v=2 - hex dump of start of CR</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>VME slot number (0-31) </td></tr>
    <tr><td class="paramname">verb</td><td>Level of detail (0-2) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="devcsr_8c_source.html#l00119">119</a> of file <a class="el" href="devcsr_8c_source.html">devcsr.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
